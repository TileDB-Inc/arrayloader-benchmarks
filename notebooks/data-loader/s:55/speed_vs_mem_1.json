{"data":[{"customdata":[[0,32768,1,32768],[0,16384,2,32768],[0,8192,4,32768],[0,4096,8,32768],[0,2048,16,32768],[0,1024,32,32768],[0,512,64,32768],[0,256,128,32768],[0,128,256,32768],[0,64,512,32768],[0,32,1024,32768],[0,16,2048,32768],[0,65536,1,65536],[0,32768,2,65536],[0,16384,4,65536],[0,8192,8,65536],[0,4096,16,65536],[0,2048,32,65536],[0,1024,64,65536],[0,512,128,65536],[0,256,256,65536],[0,128,512,65536],[0,64,1024,65536],[0,32,2048,65536],[0,131072,1,131072],[0,65536,2,131072],[0,32768,4,131072],[0,16384,8,131072],[0,8192,16,131072],[0,4096,32,131072],[0,2048,64,131072],[0,1024,128,131072],[0,512,256,131072],[0,256,512,131072],[0,128,1024,131072],[0,64,2048,131072],[0,262144,1,262144],[0,131072,2,262144],[0,65536,4,262144],[0,32768,8,262144],[0,16384,16,262144],[0,8192,32,262144],[0,4096,64,262144],[0,2048,128,262144],[0,1024,256,262144],[0,512,512,262144],[0,256,1024,262144],[0,128,2048,262144]],"hovertemplate":"SOMA chunk size: %{customdata[1]}\u003cbr\u003eChunks per shuffled block: %{customdata[2]}\u003cbr\u003eShuffled block size: %{customdata[3]}\u003cbr\u003eSamples\u002fsec: %{y:,d}\u003cbr\u003eMemory: %{x:.3s}","marker":{"cmax":11.12,"cmin":0,"color":[0,1,2,3,4,5,6,7,8,9,10,11,0,1,2,3,4,5,6,7,8,9,10,11,0,1,2,3,4,5,6,7,8,9,10,11,0,1,2,3,4,5,6,7,8,9,10,11],"colorbar":{"tickmode":"array","ticktext":["1","2","4","8","16","32","64","128","256","512","1,024","2,048"],"tickvals":[0,1,2,3,4,5,6,7,8,9,10,11],"title":{"text":"# Chunks\u003cbr\u003e\u003cspan style=\"font-size:0.8em\"\u003eper shuffled block\u003c\u002fspan\u003e"}},"colorscale":[[0.0,"rgb(12,51,131)"],[0.25,"rgb(10,136,186)"],[0.5,"rgb(242,211,56)"],[0.75,"rgb(242,143,56)"],[1.0,"rgb(217,30,30)"]],"opacity":0.8,"showscale":true,"size":[9.0,9.0,9.0,9.0,9.0,9.0,9.0,9.0,9.0,9.0,9.0,9.0,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,19.0,19.0,19.0,19.0,19.0,19.0,19.0,19.0,19.0,19.0,19.0,19.0],"symbol":"circle"},"mode":"markers","name":"np.array","showlegend":false,"x":[5641805824,5432733696,6025084928,6037377024,6112133120,6245142528,5901381632,5968814080,6478180352,6246223872,5978120192,6479388672,10726281216,9402195968,10698571776,10683310080,10692743168,10080935936,10705965056,10444349440,9934688256,10611286016,10570260480,10473705472,20066029568,19809570816,19392692224,19966353408,19394342912,19308769280,19280035840,18696142848,17998860288,17554305024,17096663040,16616009728,37861089280,36020240384,38268243968,37831569408,37633110016,37090263040,37228265472,36585897984,35428405248,33911463936,31996735488,30796439552],"y":[4364.432285597662,4368.207568402341,4469.334969720546,4541.56780228201,4622.461429909042,4625.371416463417,4671.774763407377,4383.198567335399,3808.3382649240257,3200.5080327829714,2569.0910603049506,2061.9307357810694,5625.836183469126,5633.72907647331,5722.642636936271,5658.81418561079,5658.0918390211045,5549.186666197048,5471.385321563705,5143.469272957093,4714.667219015279,4232.011209857755,3727.6721688456105,3138.824486913793,6755.227483809889,6495.221281697258,6554.338951084679,6584.514579496882,6586.235593908265,6495.140326160531,6457.167165477638,6192.676536516632,5974.661040161195,5602.249716086729,5054.4889302979145,4537.934927381747,8210.717199666607,7778.419686515565,7666.229572797136,7547.350172894032,7705.072670534036,7782.529636939995,7774.828897092386,7676.452064530968,7317.75265286271,7137.496586341971,6819.058502317714,6375.021907100542],"type":"scatter"},{"hovertemplate":"SOMA chunk size: %{customdata[1]}\u003cbr\u003eChunks per shuffled block: %{customdata[2]}\u003cbr\u003eShuffled block size: %{customdata[3]}\u003cbr\u003eSamples\u002fsec: %{y:,d}\u003cbr\u003eMemory: %{x:.3s}","marker":{"color":"gray","size":19.0,"symbol":"circle"},"mode":"markers","name":"np.array","x":[null],"y":[null],"type":"scatter"},{"customdata":[[0,32768,1,32768],[0,16384,2,32768],[0,8192,4,32768],[0,4096,8,32768],[0,2048,16,32768],[0,1024,32,32768],[0,512,64,32768],[0,256,128,32768],[0,128,256,32768],[0,64,512,32768],[0,32,1024,32768],[0,16,2048,32768],[0,65536,1,65536],[0,32768,2,65536],[0,16384,4,65536],[0,8192,8,65536],[0,4096,16,65536],[0,2048,32,65536],[0,1024,64,65536],[0,512,128,65536],[0,256,256,65536],[0,128,512,65536],[0,64,1024,65536],[0,32,2048,65536],[0,131072,1,131072],[0,65536,2,131072],[0,32768,4,131072],[0,16384,8,131072],[0,8192,16,131072],[0,4096,32,131072],[0,2048,64,131072],[0,1024,128,131072],[0,512,256,131072],[0,256,512,131072],[0,128,1024,131072],[0,64,2048,131072],[0,262144,1,262144],[0,131072,2,262144],[0,65536,4,262144],[0,32768,8,262144],[0,16384,16,262144],[0,8192,32,262144],[0,4096,64,262144],[0,2048,128,262144],[0,1024,256,262144],[0,512,512,262144],[0,256,1024,262144],[0,128,2048,262144]],"hovertemplate":"SOMA chunk size: %{customdata[1]}\u003cbr\u003eChunks per shuffled block: %{customdata[2]}\u003cbr\u003eShuffled block size: %{customdata[3]}\u003cbr\u003eSamples\u002fsec: %{y:,d}\u003cbr\u003eMemory: %{x:.3s}","marker":{"cmax":11.12,"cmin":0,"color":[0,1,2,3,4,5,6,7,8,9,10,11,0,1,2,3,4,5,6,7,8,9,10,11,0,1,2,3,4,5,6,7,8,9,10,11,0,1,2,3,4,5,6,7,8,9,10,11],"colorbar":{"tickmode":"array","ticktext":["1","2","4","8","16","32","64","128","256","512","1,024","2,048"],"tickvals":[0,1,2,3,4,5,6,7,8,9,10,11],"title":{"text":"# Chunks\u003cbr\u003e\u003cspan style=\"font-size:0.8em\"\u003eper shuffled block\u003c\u002fspan\u003e"}},"colorscale":[[0.0,"rgb(12,51,131)"],[0.25,"rgb(10,136,186)"],[0.5,"rgb(242,211,56)"],[0.75,"rgb(242,143,56)"],[1.0,"rgb(217,30,30)"]],"opacity":0.8,"showscale":true,"size":[9.0,9.0,9.0,9.0,9.0,9.0,9.0,9.0,9.0,9.0,9.0,9.0,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,12.333333333333334,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,15.666666666666668,19.0,19.0,19.0,19.0,19.0,19.0,19.0,19.0,19.0,19.0,19.0,19.0],"symbol":"square"},"mode":"markers","name":"scipy.csr","showlegend":false,"x":[9228427264,10063503360,9612709888,9848590336,9709821952,10173956096,9442344960,10048012288,9974157312,7343865856,7183720448,6451257344,15169318912,15520268288,14404050944,14186336256,14492729344,14533513216,14051840000,14049718272,14018859008,13834391552,14204321792,9096491008,22402871296,21982810112,22916198400,21602906112,21494308864,22475153408,22439632896,21446213632,22183313408,21257142272,21414174720,21592289280,35875246080,36204572672,36792602624,34963935232,36792049664,38431371264,39730839552,35614310400,37140500480,36614721536,37241921536,36245549056],"y":[2278.380499588125,2137.9114747779827,2125.362100252451,2150.5435633302827,2165.6931173785565,2158.4628037881885,2129.941904941605,2073.970502532065,1960.6300142704702,1764.6178353709101,1564.871164497797,1371.5520840211095,2535.0082731570146,2396.361312996091,2384.517269202239,2388.4034611249126,2368.8490835897965,2367.7544370189617,2316.7910910973724,2301.014638227975,2188.8865505168724,2104.358220033494,1977.5589271755618,1805.4116329547132,2645.7385677189613,2469.664534299982,2446.8869133239723,2507.8980539477725,2437.2539679043957,2422.260492587618,2439.410839417861,2411.781456370878,2372.276644009566,2318.6019571944616,2227.3724895559985,2139.7615809939134,2863.426794377551,2623.7331113117602,2583.6248355413045,2707.7809778423493,2786.818835814892,2625.0901068279622,2651.5613708519936,2759.1682461355936,2643.609380829687,2607.63250759846,2555.337624922663,2519.7252497927702],"type":"scatter"},{"hovertemplate":"SOMA chunk size: %{customdata[1]}\u003cbr\u003eChunks per shuffled block: %{customdata[2]}\u003cbr\u003eShuffled block size: %{customdata[3]}\u003cbr\u003eSamples\u002fsec: %{y:,d}\u003cbr\u003eMemory: %{x:.3s}","marker":{"color":"gray","size":19.0,"symbol":"square"},"mode":"markers","name":"scipy.csr","x":[null],"y":[null],"type":"scatter"},{"hovertemplate":"SOMA chunk size: %{customdata[1]}\u003cbr\u003eChunks per shuffled block: %{customdata[2]}\u003cbr\u003eShuffled block size: %{customdata[3]}\u003cbr\u003eSamples\u002fsec: %{y:,d}\u003cbr\u003eMemory: %{x:.3s}","legend":"legend2","marker":{"color":"gray","size":9.0},"mode":"markers","name":"32,768","x":[null],"y":[null],"type":"scatter"},{"hovertemplate":"SOMA chunk size: %{customdata[1]}\u003cbr\u003eChunks per shuffled block: %{customdata[2]}\u003cbr\u003eShuffled block size: %{customdata[3]}\u003cbr\u003eSamples\u002fsec: %{y:,d}\u003cbr\u003eMemory: %{x:.3s}","legend":"legend2","marker":{"color":"gray","size":12.333333333333334},"mode":"markers","name":"65,536","x":[null],"y":[null],"type":"scatter"},{"hovertemplate":"SOMA chunk size: %{customdata[1]}\u003cbr\u003eChunks per shuffled block: %{customdata[2]}\u003cbr\u003eShuffled block size: %{customdata[3]}\u003cbr\u003eSamples\u002fsec: %{y:,d}\u003cbr\u003eMemory: %{x:.3s}","legend":"legend2","marker":{"color":"gray","size":15.666666666666668},"mode":"markers","name":"131,072","x":[null],"y":[null],"type":"scatter"},{"hovertemplate":"SOMA chunk size: %{customdata[1]}\u003cbr\u003eChunks per shuffled block: %{customdata[2]}\u003cbr\u003eShuffled block size: %{customdata[3]}\u003cbr\u003eSamples\u002fsec: %{y:,d}\u003cbr\u003eMemory: %{x:.3s}","legend":"legend2","marker":{"color":"gray","size":19.0},"mode":"markers","name":"262,144","x":[null],"y":[null],"type":"scatter"}],"layout":{"height":600,"legend":{"bordercolor":"Black","borderwidth":2,"title":{"text":"Method"},"x":0.145,"xanchor":"left","y":0.99,"yanchor":"top"},"paper_bgcolor":"white","plot_bgcolor":"white","template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"title":{"text":"Samples\u002fsec vs. memory use\u003cbr\u003e\u003cspan style=\"font-size:0.7em\"\u003eEC2 (g4dn.8xlarge), 1024 samples per PyTorch batch\u003c\u002fspan\u003e\u003cbr\u003e\u003cspan style=\"font-size:0.7em\"\u003e975,441 cells, streamed (and sliced on the fly) from S3\u003c\u002fspan\u003e","x":0.5,"y":0.95},"width":1000,"xaxis":{"gridcolor":"#ccc","rangemode":"tozero","tickformat":"s","title":{"text":"Max. memory usage"}},"yaxis":{"gridcolor":"#ccc","rangemode":"tozero","title":{"text":"Samples \u002f sec"},"zeroline":true,"zerolinecolor":"#ccc","zerolinewidth":1},"legend2":{"bordercolor":"Black","borderwidth":2,"title":{"text":"Block size"},"x":0.01,"xanchor":"left","y":0.99,"yanchor":"top"},"legend3":{"bordercolor":"Black","borderwidth":2,"title":{"text":"Epoch"},"x":0.145,"xanchor":"left","y":0.99,"yanchor":"top"}}}